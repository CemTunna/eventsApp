(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3454:function(n,e,t){"use strict";var r,o;n.exports=(null===(r=t.g.process)||void 0===r?void 0:r.env)&&"object"===typeof(null===(o=t.g.process)||void 0===o?void 0:o.env)?t.g.process:t(7663)},6363:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return t(3847)}])},8014:function(n,e,t){"use strict";t.d(e,{T5:function(){return o},LZ:function(){return u},TP:function(){return i}});var r=t(3454),o="https://backendforevents.herokuapp.com",u=6,i=r.env.NEXT_PUBLIC_FRONTEND_URL||"http://localhost:3000"},175:function(n,e,t){"use strict";t.d(e,{H:function(){return p}});var r=t(4051),o=t.n(r),u=t(5893),i=t(7294),c=t(1163),s=t(8014);function a(n,e,t,r,o,u,i){try{var c=n[u](i),s=c.value}catch(a){return void t(a)}c.done?e(s):Promise.resolve(s).then(r,o)}function f(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var u=n.apply(e,t);function i(n){a(u,r,o,i,c,"next",n)}function c(n){a(u,r,o,i,c,"throw",n)}i(void 0)}))}}var l=(0,i.createContext)(null),p=function(n){var e=n.children,t=(0,i.useState)(null),r=t[0],a=t[1],p=(0,i.useState)(null),h=p[0],v=p[1],d=(0,c.useRouter)();(0,i.useEffect)((function(){T()}),[]);var m=function(){var n=f(o().mark((function n(e){var t,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(s.TP,"/api/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return t=n.sent,n.next=5,t.json();case 5:r=n.sent,t.ok?(a(r.user),d.push("/account/dashboard")):v(r.message);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),y=function(){var n=f(o().mark((function n(e){var t,r,u,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.email,r=e.password,n.next=3,fetch("".concat(s.TP,"/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:t,password:r})});case 3:return u=n.sent,n.next=6,u.json();case 6:i=n.sent,u.ok?(a(i.user),d.push("/events")):v(i.message);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),w=function(){var n=f(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(s.TP,"/api/logout"),{method:"POST"});case 2:n.sent.ok&&(a(null),d.push("/"));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),T=function(){var n=f(o().mark((function n(){var e,t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(s.TP,"/api/user"));case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,e.ok?a(t.user):a(null);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,u.jsx)(l.Provider,{value:{user:r,error:h,register:m,login:y,logout:w},children:e})};e.Z=l},3847:function(n,e,t){"use strict";t.r(e);var r=t(5893),o=(t(6774),t(7294)),u=t(175);function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){i(n,e,t[e])}))}return n}e.default=function(n){var e=n.Component,t=n.pageProps;return o.useEffect((function(){var n,e=document.querySelector("#jss-server-side");e&&(null===(n=e.parentElement)||void 0===n||n.removeChild(e))}),[]),(0,r.jsxs)(u.H,{children:[(0,r.jsx)(e,c({},t)),";"]})}},6774:function(){},7663:function(n){!function(){var e={162:function(n){var e,t,r=n.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function i(n){if(e===setTimeout)return setTimeout(n,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(n,0);try{return e(n,0)}catch(r){try{return e.call(null,n,0)}catch(r){return e.call(this,n,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:o}catch(n){e=o}try{t="function"===typeof clearTimeout?clearTimeout:u}catch(n){t=u}}();var c,s=[],a=!1,f=-1;function l(){a&&c&&(a=!1,c.length?s=c.concat(s):f=-1,s.length&&p())}function p(){if(!a){var n=i(l);a=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,a=!1,function(n){if(t===clearTimeout)return clearTimeout(n);if((t===u||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(n);try{t(n)}catch(e){try{return t.call(null,n)}catch(e){return t.call(this,n)}}}(n)}}function h(n,e){this.fun=n,this.array=e}function v(){}r.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];s.push(new h(n,e)),1!==s.length||a||i(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(n){return[]},r.binding=function(n){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(n){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}},i=!0;try{e[n](u,u.exports,r),i=!1}finally{i&&delete t[n]}return u.exports}r.ab="//";var o=r(162);n.exports=o}()},1163:function(n,e,t){n.exports=t(880)}},function(n){var e=function(e){return n(n.s=e)};n.O(0,[774,179],(function(){return e(6363),e(880)}));var t=n.O();_N_E=t}]);